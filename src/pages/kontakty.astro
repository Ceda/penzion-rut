---
import Layout from "../layouts/Layout.astro";
import { ROUTES } from "../config/routes";
import ContactForm from "../components/ContactForm.astro";
---

<Layout
  title="Kontakty Pension RUT | Rezervace | Staré Splavy Máchovo jezero"
  description="Kontaktní informace Pension RUT - Lázeňský Vrch 97, 471 63 Staré Splavy. Tel: +420 487 873 213, +420 724 042 508, Email: recepce@pensionrut.cz. GPS: 50°34'25.64''N, 14°39'6.52''E"
  keywords="kontakt Pension RUT, rezervace ubytování Máchovo jezero, telefon pension Staré Splavy, email recepce, adresa pension, GPS Staré Splavy, jak se dostat"
>
  <!-- Schema.org Breadcrumb markup -->
  <script type="application/ld+json" slot="head">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Hlavní stránka",
          "item": "https://www.pensionrut.cz/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Kontakty",
          "item": "https://www.pensionrut.cz/kontakty"
        }
      ]
    }
  </script>

  <div id="crumbs">
    Právě se nacházíte: <a href={ROUTES.home}>Hlavní stánka</a> / <a
      href={ROUTES.kontakty}>Kontakty</a
    >
  </div>

  <h2>Pension RUT kontaktní informace</h2>

  <div class="mapcliping">
    <div id="map3" style="width:100%; height:320px" data-map-container></div>
  </div>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

  <script is:inline>
    function initMap() {
      const mapEl = document.getElementById("map3");
      if (!mapEl) return;

      // Počkat na Leaflet
      if (typeof L === "undefined") {
        setTimeout(initMap, 100);
        return;
      }

      // Vyčistit starou mapu pokud existuje
      if (mapEl._leaflet_id) {
        mapEl.innerHTML = "";
        delete mapEl._leaflet_id;
      }

      // Vytvoř novou mapu
      try {
        const map = L.map("map3", {
          scrollWheelZoom: false,
        }).setView([50.58707513286003, 14.638432025909424], 14);

        L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
          attribution:
            '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        }).addTo(map);

        L.marker([50.58707513286003, 14.638432025909424])
          .addTo(map)
          .bindPopup("<b>Pension RUT</b><br>Lázeňský Vrch 97<br>Staré Splavy");
      } catch (e) {
        console.error("Map init error:", e);
      }
    }

    // Spusť při načtení i při návratu
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", initMap);
    } else {
      initMap();
    }

    // Spusť při Astro transitions
    document.addEventListener("astro:page-load", initMap);
  </script>

  <div class="contents">
    <div class="row-fluid">
      <div class="span6">
        <h4>Adresa</h4>
        <table>
          <tbody>
            <tr>
              <td><b>Pension Rut Formanovi</b></td>
            </tr>
            <tr>
              <td>Lázeňský Vrch 97</td>
            </tr>
            <tr>
              <td>471 63, Staré Splavy</td>
            </tr>
            <tr>
              <td><b>GPS:</b> 50°34' 25.64'' N, 14°39' 6.52'' E</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="span6">
        <h4>Kontaktní informace</h4>
        <table>
          <tbody>
            <tr>
              <td><br /><b>Tel:</b> +420 487 873 213</td>
            </tr>
            <tr>
              <td><b>Tel:</b> +420 724 042 508</td>
            </tr>
            <tr>
              <td>
                <b>Email:</b>
                <a href="mailto:recepce@pensionrut.cz">recepce@pensionrut.cz</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="span12">
        <p class="claim">
          <strong>Pension je v provozu od Velikonoc do listopadu</strong>
        </p>
      </div>
    </div>
  </div>

  <ContactForm />
</Layout>
